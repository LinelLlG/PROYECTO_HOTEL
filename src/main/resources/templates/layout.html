<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--INTEGRACIONES DE SIEMPRE-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,500;0,600;1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/b3a8f0ecfc.js" crossorigin="anonymous"></script>
    <!--NECESARIAS PARA EL INDEX-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link th:href="@{./resources/css/index.css}" rel="stylesheet" type = "text/css">
    <title>SYSTEM - HOTEL</title>
    <link rel="shortcut icon" th:href="@{../resources/img/logo1.ico}">
</head>
<body>
<div th:fragment="layout">
    <!--Pre Loader Inicio--> 
    <div id="contenedor_loader">
        <div id="loader"></div>
    </div>
    <script>
        window.onload = function(){
            var contenedor = document.getElementById('contenedor_loader');
            contenedor.style.visibility = 'hidden';
            contenedor.style.opacity = '0'
        }
    </script>
    <!--Pre Loader Fin-->
	<!--SIDEBAR INICIO-->
    <section id="sidebar">
		<div>
			<a href="index.html" class="brand"><img  th:src="@{../resources/img/logo1.png}" class="img icon" alt=""><span style="color: rgb(42, 141, 158);">AGUA</span><span>CATES</span></a>

			<ul class="side-menu">
				<li><a href="#" class="active"><i class='bx bxs-dashboard icon'></i> Dashboard</a></li>

				<li class="divider" data-text="RESERVAS">RESERVAS</li>
				<li>
					<a href="#"><i class='bx bx-user-circle icon'></i> Clientes <i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a th:href="@{/clientes}">Listar Clientes</a></li>
						<li><a th:href="@{/agregarClientes}">Registrar Clientes</a></li>
					</ul>
				</li>
				<li>
					<a href="#" style="pointer-events: none;"><i class='bx bx-registered icon'></i> Reservas <i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a href="#">Listar Reservas</a></li>
						<li><a href="#">Registrar Reservas</a></li>
					</ul>
				</li>

				<li class="divider" data-text="GESTIÓN">GESTIÓN</li>
				<li>
					<a href="#"><i class='bx bx-bed icon'></i> Habitaciones <i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a th:href="@{/habitaciones}">Listar Habitaciones</a></li>
						<li><a th:href="@{/agregarHabitaciones}">Registrar Habi.</a></li>
					</ul>
				</li>
				<li>
					<a href="#"><i class='bx bx-bowl-hot icon'></i> Servicios <i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a th:href="@{/servicio}">Listar Servicios</a></li>
						<li><a th:href="@{/agregarServicio}">Registrar Servicios</a></li>
					</ul>
				</li>

				<li class="divider" data-text="INVENTARIO">INVENTARIO</li>
				<li>
					<a href="#"><i class='bx bx-package icon'></i> Productos <i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a href="listarProductos.html">Listar Productos</a></li>
						<li><a href="registrarProductos.html">Registrar Productos</a></li>
					</ul>
				</li>
				<li>
					<a href="#"><i class='bx bx-cart-add icon'></i> Proveedores<i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a th:href="@{/proveedores}">Listar Proveedores</a></li>
						<li><a th:href="@{/registrarProveedor}">Registrar Prov.</a></li>
					</ul>
				</li>

				<li class="divider" data-text="PERSONAL">PERSONAL</li>
				<li>
					<a href="#"><i class='bx bx-bed icon'></i> Empleados <i class='bx bx-chevron-right icon-right'></i></a>
					<ul class="side-dropdown">
						<li><a th:href="@{/empleado}">Listar Empleados</a></li>
						<li><a th:href="@{/agregarEmpleado}">Registrar Empleados</a></li>
					</ul>
				</li>
				<li><a href="#"><i class='bx bx-user-pin icon'></i> Perfiles</a></li>
			</ul>
		</div>
        <div class="ads">
            <div class="wrapper">
                <a href="#" class="btn-upgrade" id="refresh"><i class='bx bx-refresh iconlogout'></i>Refrescar</a>
            </div>
        </div>
    </section>
    <!--SIDEBAR FIN-->

    <!--NAVBAR INICIO-->
    <section id="content">
        <!--NAVBAR START-->
        <nav>
            <i class='bx bx-menu toggle-sidebar' style="pointer-events: none"></i>
            <form action="#">
                <div class="form-group"></div>
            </form>
            <a href="#" class="nav-link">
                <i class='bx bx-bowl-rice icon'></i>
                <span class="badge"></span>
            </a>
            <a href="#" class="nav-link">
                <i class='bx bx-cart-add icon'></i>
                <span class="badge"></span>
            </a>
            <span class="divider"></span>
			<h1 class="profile-name">Recepcion</h1>
            <div class="profile">
                <img  th:src="@{../resources/img/user1.png}" alt="">
                <ul class="profile-link">
                    <li><a href="login.html"><i class='bx bxs-exit icon'></i> Salir</a></li>
                </ul>
            </div>
        </nav>
        <!--NAVBAR END-->
</section>
    
    <!--SCRIPTS INICIO-->
	<script>
		// REFRESCAR PÁGINA
		let refresh = document.getElementById('refresh');
			refresh.addEventListener('click', _ => {
            	location.reload();
		})

		// SIDEBAR DROPDOWN
		const allDropdown = document.querySelectorAll('#sidebar .side-dropdown');
		const sidebar = document.getElementById('sidebar');

		allDropdown.forEach(item=> {
			const a = item.parentElement.querySelector('a:first-child');
			a.addEventListener('click', function (e) {
				e.preventDefault();

				if(!this.classList.contains('active')) {
					allDropdown.forEach(i=> {
						const aLink = i.parentElement.querySelector('a:first-child');

						aLink.classList.remove('active');
						i.classList.remove('show');
					})
				}

				this.classList.toggle('active');
				item.classList.toggle('show');
			})
		})
		// SIDEBAR COLLAPSE
		const toggleSidebar = document.querySelector('nav .toggle-sidebar');
		const allSideDivider = document.querySelectorAll('#sidebar .divider');

		if(sidebar.classList.contains('hide')) {
			allSideDivider.forEach(item=> {
				item.textContent = '-'
			})
			allDropdown.forEach(item=> {
				const a = item.parentElement.querySelector('a:first-child');
				a.classList.remove('active');
				item.classList.remove('show');
			})
		} else {
			allSideDivider.forEach(item=> {
				item.textContent = item.dataset.text;
			})
		}

		toggleSidebar.addEventListener('click', function () {
			sidebar.classList.toggle('hide');

			if(sidebar.classList.contains('hide')) {
				allSideDivider.forEach(item=> {
					item.textContent = '-'
				})

				allDropdown.forEach(item=> {
					const a = item.parentElement.querySelector('a:first-child');
					a.classList.remove('active');
					item.classList.remove('show');
				})
			} else {
				allSideDivider.forEach(item=> {
					item.textContent = item.dataset.text;
				})
			}
		})

		sidebar.addEventListener('mouseleave', function () {
			if(this.classList.contains('hide')) {
				allDropdown.forEach(item=> {
					const a = item.parentElement.querySelector('a:first-child');
					a.classList.remove('active');
					item.classList.remove('show');
				})
				allSideDivider.forEach(item=> {
					item.textContent = '-'
				})
			}
		})

		sidebar.addEventListener('mouseenter', function () {
			if(this.classList.contains('hide')) {
				allDropdown.forEach(item=> {
					const a = item.parentElement.querySelector('a:first-child');
					a.classList.remove('active');
					item.classList.remove('show');
				})
				allSideDivider.forEach(item=> {
					item.textContent = item.dataset.text;
				})
			}
		})

		// PROFILE DROPDOWN
		const profile = document.querySelector('nav .profile');
		const imgProfile = profile.querySelector('img');
		const dropdownProfile = profile.querySelector('.profile-link');

		imgProfile.addEventListener('click', function () {
			dropdownProfile.classList.toggle('show');
		})

		// MENU
		const allMenu = document.querySelectorAll('main .content-data .head .menu');

		allMenu.forEach(item=> {
			const icon = item.querySelector('.icon');
			const menuLink = item.querySelector('.menu-link');

			icon.addEventListener('click', function () {
				menuLink.classList.toggle('show');
			})
		})

		window.addEventListener('click', function (e) {
			if(e.target !== imgProfile) {
				if(e.target !== dropdownProfile) {
					if(dropdownProfile.classList.contains('show')) {
						dropdownProfile.classList.remove('show');
					}
				}
			}

		allMenu.forEach(item=> {
			const icon = item.querySelector('.icon');
			const menuLink = item.querySelector('.menu-link');

			if(e.target !== icon) {
				if(e.target !== menuLink) {
					if (menuLink.classList.contains('show')) {
						menuLink.classList.remove('show')
					}
				}
			}
		})
	})
	</script>
<!--SCRIPTS FIN-->
    
</div>
<!-- NAVBAR FIN -->

</body>
</html>