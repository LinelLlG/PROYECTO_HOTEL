<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <!--INTEGRACIONES DE SIEMPRE-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,500;0,600;1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/b3a8f0ecfc.js" crossorigin="anonymous"></script>
    <!--NECESARIAS PARA EL INDEX-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link th:href="@{../resources/css/index.css}" rel="stylesheet" type = "text/css">
    <title>SYSTEM - HOTEL</title>
    <link rel="shortcut icon" th:href="@{./resources/img/logo1.ico}">
    </head>
    <body>
        <div th:insert="layout :: layout"></div>
        <section id="contenido">
            <!-- MAIN -->
		<main>
			<div class="data">
				<div class="content-data card">
					<!--CONTENIDO INICIO-->
					<div class="head-title">
						<div class="left">
							<h1>Registro de Proveedores</h1>
							<ul class="breadcrumb">
								<li>
									<a href="#">Registro</a>
								</li>
								<li><i class="fa-solid fa-chevron-right"></i></li>
								<li>
									<a href="#" class="active">Proveedores</a>
								</li>
							</ul>
						</div>
						<div class="inputFunction">
							<a href="#" class="btn-cancel">
								<i class='bx bx-x' ></i>
								<span>CANCELAR</span>
							</a>
						</div>
					</div>
					<div class="table-data">
						<div class="order">
							<div class="container">
								<form th:action="@{/guardarProveedor}" method="post" th:object="${proveedor}">
									<div class="user-details">
										<div class="input-box">
											<span class="details" for="cod_prov">Código</span>
                                                                                        <input class="readonly" name="cod_prov" th:field="*{cod_prov}" type="text" placeholder="El código autogenerado" required readonly>
										</div>
										<div class="input-box">
											<span class="details" for="RUC">RUC</span>
                                                                                        <input type="text" name="RUC" th:field="*{ruc_prov}" placeholder="Ingrese el RUC" required>
										</div>
										<div class="input-box">
											<span class="details" for="Nombre">Nombre</span>
                                                                                        <input type="text" name="Nombre" th:field="*{nom_prov}" placeholder="Ingrese su Nombre" required>
										</div>
										<div class="input-box">
											<span class="details" for="RepLegal">Rep. Legal</span>
                                                                                        <input type="text" name="RepLegal" th:field="*{rep_legal_prov}" placeholder="Ingrese nombre del Representante" required>
										</div>
										<div class="input-box">
											<span class="details" for="Direccion">Direccion</span>
                                                                                        <input type="text" name="Direccion" th:field="*{dir_prov}" placeholder="Ingrese su Direccion">
										</div>
										<div class="input-box">
											<span class="details" for="Telefono" >Teléfono</span>
                                                                                        <input type="text" name="Telefono" th:field="*{tlf_prov}" placeholder="Ingrese el teléfono" required>
										</div>
										<div class="input-box">
											<span class="details" for="Correo">Correo</span>
                                                                                        <input type="text" name="correo" th:field="*{email_prov}" placeholder="Ingrese el correo" required>
										</div>
										<div class="input-box">
											<span class="details" for="Fecha">Fecha de Registro</span>
                                                                                        <input type="date" name="Fecha" th:field="*{fec_reg_prov}" placeholder="Ingrese una dirección" required>
										</div>
										<div class="input-box">
											<span class="details" for="pais">Tipo</span>
											<select name="pais" id="pais" th:field="*{pais.cod_pais}" >
												<option value="0">Seleccione su País</option>
                                                                                                <option  th:each="row : ${pais}"
                                                                                                         th:text="${row.nom_pais}"
                                                                                                         th:value="${row.cod_pais}"/>
											</select>
										</div>
                                                                                <div class="input-box">
                                                                                        <span class="details" for="sede">Sede</span>
                                                                                        <select name="sede" id="sede" th:field="*{sede.cod_sed}">
                                                                                                    <option value="0">[Seleccione Sede]</option>
                                                                                                    <option  th:each="row : ${sede}"
                                                                                                         th:text="${row.nom_sed}"
                                                                                                         th:value="${row.cod_sed}"/>
                                                                                        </select>
                                                                                </div>
                                                                                <div class="input-box">
											<span class="details" for="sucursal">Sucursal</span>
                                                                                        <input type="text" name="sucursal" th:field="*{suc_prov}" placeholder="Ingrese una dirección" required>
										</div>
									</div>
									<div class="button">
										<button class="cssbuttons-io-button"> REGISTRAR
											<div class="icon">
											  <svg height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z" fill="currentColor"></path></svg>
											</div>
										</button>
									</div>
								</form>
							</div>
						</div>
					</div>
					<!--CONTENIDO FIN-->
				</div>
			</div>
		</main>
		<!-- MAIN CONTENEDOR FIN -->
        </section>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            $(document).ready(function() {
                $("#pais").change(function() {
                    var codigoPais = $(this).val();
                    $.get("/sede/" + codigoPais, function(data) {
                        var ciudadSelect = $("#sede");
                        ciudadSelect.empty();
                        ciudadSelect.append("<option value=''>Seleccione una ciudad</option>");
                        $.each(data, function(index, sede) {
                            ciudadSelect.append("<option value='" + sede.cod_sed + "'>" + sede.nom_sed + "</option>");
                        });
                    });
                });
            });
	</script>
    </body>
</html>
